<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <actionCalls>
        <name>Adjust_Payment</name>
        <label>Adjust Payment</label>
        <locationX>1656</locationX>
        <locationY>2030</locationY>
        <actionName>advancedPaymnetAdjust</actionName>
        <actionType>apex</actionType>
        <connector>
            <targetReference>Create_Broker_Payment</targetReference>
        </connector>
        <flowTransactionModel>NewTransaction</flowTransactionModel>
        <inputParameters>
            <name>amountId</name>
            <value>
                <elementReference>Get_Account.Id</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>totalAmount</name>
            <value>
                <elementReference>Total_Amount</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>projectId</name>
            <value>
                <elementReference>Get_Booking.Project_Name__r.Id</elementReference>
            </value>
        </inputParameters>
        <nameSegment>advancedPaymnetAdjust</nameSegment>
        <outputParameters>
            <assignToReference>AmountAfterDeduction</assignToReference>
            <name>output</name>
        </outputParameters>
    </actionCalls>
    <actionCalls>
        <name>Sending_mail_to_Account_Team</name>
        <label>Sending mail to Account Team</label>
        <locationX>1656</locationX>
        <locationY>2390</locationY>
        <actionName>SendEmailClass</actionName>
        <actionType>apex</actionType>
        <flowTransactionModel>NewTransaction</flowTransactionModel>
        <inputParameters>
            <name>emailTemplateId</name>
            <value>
                <elementReference>$Label.Broker_Payment_Email_Template_ID</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>MilestoneId</name>
            <value>
                <elementReference>BrokerPaymentId</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>personAccountId</name>
            <value>
                <elementReference>$Label.Account_User_ID</elementReference>
            </value>
        </inputParameters>
        <inputParameters>
            <name>ProjectEmail</name>
            <value>
                <elementReference>Get_Booking.Project_Name__r.Project_Email__c</elementReference>
            </value>
        </inputParameters>
        <nameSegment>SendEmailClass</nameSegment>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </actionCalls>
    <apiVersion>54.0</apiVersion>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <decisions>
        <name>Booking_not_find</name>
        <label>Booking not find</label>
        <locationX>382</locationX>
        <locationY>518</locationY>
        <defaultConnector>
            <targetReference>Select_Booking_Screen</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>If_0_booking_related_to_object</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Booking_Related_Project</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>ZeroBookingError</targetReference>
            </connector>
            <label>If 0 booking related to object</label>
        </rules>
    </decisions>
    <decisions>
        <name>Checking_Broker_Payment_Conditions</name>
        <label>Checking Broker Payment Conditions</label>
        <locationX>715</locationX>
        <locationY>878</locationY>
        <defaultConnector>
            <targetReference>Get_All_Broker_Payment_record</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>if_10_amount_not_paid</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Booking.Total_Amount_Received__c</leftValueReference>
                <operator>LessThan</operator>
                <rightValue>
                    <elementReference>TENPercentageOfAggermentAmount</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>X10PercentageError</targetReference>
            </connector>
            <label>if 10% amount not paid</label>
        </rules>
    </decisions>
    <decisions>
        <name>Checking_Last_Payment_Period</name>
        <label>Checking Last Payment Period</label>
        <locationX>1117</locationX>
        <locationY>1118</locationY>
        <defaultConnector>
            <targetReference>Enter_Invoice_Details</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>If_Last_Payment_30</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_All_Broker_Payment_record</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>DaysDifference</leftValueReference>
                <operator>LessThan</operator>
                <rightValue>
                    <numberValue>30.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>PeriodErrorScreen2</targetReference>
            </connector>
            <label>If Last Payment &lt; 30 Days</label>
        </rules>
    </decisions>
    <decisions>
        <name>If_Entered_amount_is_grater_than_50</name>
        <label>If Entered amount is grater than 50%</label>
        <locationX>2074</locationX>
        <locationY>1478</locationY>
        <defaultConnector>
            <targetReference>Adjust_Payment</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>If_50_already_generated</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_All_Broker_Payment_record</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Remining_Amount_Screen_0_0_0_0</targetReference>
            </connector>
            <label>If 50% already generated</label>
        </rules>
        <rules>
            <name>if_amount_is_greater_than_50</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Total_Amount</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>F50PercentageOfBrokerAmount</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Total_Amount</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>F50PercentageRoundOfBrokerAmount</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Remining_Amount_Screen_0_0_0</targetReference>
            </connector>
            <label>if amount is greater than 50%</label>
        </rules>
    </decisions>
    <decisions>
        <name>If_F_F_is_more_than_Remining_value</name>
        <label>If F&amp;F is more than Remining value</label>
        <locationX>1238</locationX>
        <locationY>1478</locationY>
        <defaultConnector>
            <targetReference>Adjust_Payment</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>If_Remaining_value_is_than_invoice_Value</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>ReminingBrokerageAmount</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>Total_Amount</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ReminingBrokerageAmountRound</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>Total_Amount</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Remining_Amount_Screen</targetReference>
            </connector>
            <label>If Remaining value is &lt; than invoice Value</label>
        </rules>
        <rules>
            <name>Is_Booking_s_registration_completed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Booking.Registration_Status__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Completed</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Remining_Amount_Screen_0</targetReference>
            </connector>
            <label>Is Booking&apos;s registration completed</label>
        </rules>
        <rules>
            <name>checking_project</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Get_Booking.Project_Name__r.Project_Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Launch</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Remining_Amount_Screen_0_0</targetReference>
            </connector>
            <label>checking project</label>
        </rules>
    </decisions>
    <decisions>
        <name>If_F_F_Payment</name>
        <label>If F&amp;F Payment</label>
        <locationX>1656</locationX>
        <locationY>1358</locationY>
        <defaultConnector>
            <targetReference>If_Entered_amount_is_grater_than_50</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>If_F_F</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Invoice</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>F&amp;F</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>If_F_F_is_more_than_Remining_value</targetReference>
            </connector>
            <label>If F&amp;F</label>
        </rules>
    </decisions>
    <dynamicChoiceSets>
        <name>BookingChoiceSet</name>
        <dataType>String</dataType>
        <displayField>Name</displayField>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Project_Name__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ProjectId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Channel_Partner__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <object>Booking__c</object>
        <valueField>Id</valueField>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>InvoicePercentage</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true"/>
        <object xsi:nil="true"/>
        <picklistField>Invoice_Percentage__c</picklistField>
        <picklistObject>Broker_Payment__c</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>SelectProject</name>
        <dataType>String</dataType>
        <displayField>Name</displayField>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <object>Project__c</object>
        <outputAssignments>
            <assignToReference>ProjectId</assignToReference>
            <field>Id</field>
        </outputAssignments>
        <sortField>Name</sortField>
        <sortOrder>Asc</sortOrder>
        <valueField>Name</valueField>
    </dynamicChoiceSets>
    <formulas>
        <name>AdjustedAmount</name>
        <dataType>Currency</dataType>
        <expression>{!Total_Amount} - {!AmountAfterDeduction}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>BrokerPaymentName</name>
        <dataType>String</dataType>
        <expression>{!Get_Account.Name}&amp;&quot; - &quot;&amp;TEXT({!$Flow.CurrentDate})</expression>
    </formulas>
    <formulas>
        <name>DaysDifference</name>
        <dataType>Number</dataType>
        <expression>DATEVALUE({!$Flow.CurrentDateTime})- DATEVALUE({!Get_All_Broker_Payment_record.CreatedDate})</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>F50ofReminingAmount</name>
        <dataType>Number</dataType>
        <expression>{!ReminingBrokerageAmount}*0.50</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>F50PercentageOfBrokerAmount</name>
        <dataType>Currency</dataType>
        <expression>{!Get_Booking.Brokerage_Amount__c} * 0.50</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>F50PercentageRoundOfBrokerAmount</name>
        <dataType>Currency</dataType>
        <expression>{!Get_Booking.Brokerage_Amount__c} * 0.50</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>ReminingBrokerageAmount</name>
        <dataType>Currency</dataType>
        <expression>{!Get_Booking.Brokerage_Amount__c} - {!Get_Booking.Brokerage_Amount_Paid2__c}</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>ReminingBrokerageAmountRound</name>
        <dataType>Currency</dataType>
        <expression>{!Get_Booking.Brokerage_Amount__c} - {!Get_Booking.Brokerage_Amount_Paid2__c}</expression>
        <scale>0</scale>
    </formulas>
    <formulas>
        <name>TENPercentageOfAggermentAmount</name>
        <dataType>Currency</dataType>
        <expression>{!Get_Booking.Agreement_Value__c} * 0.10</expression>
        <scale>2</scale>
    </formulas>
    <interviewLabel>Brokerage invoice. {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Brokerage invoice</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordCreates>
        <name>Create_Broker_Payment</name>
        <label>Create Broker Payment</label>
        <locationX>1656</locationX>
        <locationY>2150</locationY>
        <assignRecordIdToReference>BrokerPaymentId</assignRecordIdToReference>
        <connector>
            <targetReference>Upload_Invoice</targetReference>
        </connector>
        <inputAssignments>
            <field>Advanced_Settled_currency__c</field>
            <value>
                <elementReference>AdjustedAmount</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Amount__c</field>
            <value>
                <elementReference>Total_Amount</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Booking__c</field>
            <value>
                <elementReference>BookingChoiceSet</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Channel_Partner__c</field>
            <value>
                <elementReference>Get_Account.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CurrencyIsoCode</field>
            <value>
                <stringValue>INR</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Invoice_Percentage__c</field>
            <value>
                <elementReference>InvoicePercentage</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Invoice_no__c</field>
            <value>
                <elementReference>Invoice_No</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>BrokerPaymentName</elementReference>
            </value>
        </inputAssignments>
        <object>Broker_Payment__c</object>
    </recordCreates>
    <recordLookups>
        <name>Get_Account</name>
        <label>Get Account</label>
        <locationX>382</locationX>
        <locationY>158</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Select_Project_Screen</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Account</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_All_Broker_Payment_record</name>
        <label>Get All Broker Payment record</label>
        <locationX>1117</locationX>
        <locationY>998</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Checking_Last_Payment_Period</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Booking__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Booking.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Invoice_Percentage__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>50%</stringValue>
            </value>
        </filters>
        <filters>
            <field>Invoice_Percentage__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Broker_Payment__c</object>
        <sortField>CreatedDate</sortField>
        <sortOrder>Asc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Booking</name>
        <label>Get Booking</label>
        <locationX>715</locationX>
        <locationY>758</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Checking_Broker_Payment_Conditions</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>BookingChoiceSet</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Booking__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Booking_Related_Project</name>
        <label>Get Booking Related Project</label>
        <locationX>382</locationX>
        <locationY>398</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Booking_not_find</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Project_Name__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>ProjectId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Channel_Partner__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Booking__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <screens>
        <name>Enter_Invoice_Details</name>
        <label>Enter Invoice Details</label>
        <locationX>1656</locationX>
        <locationY>1238</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>If_F_F_Payment</targetReference>
        </connector>
        <fields>
            <name>Total_Amount</name>
            <dataType>Currency</dataType>
            <fieldText>Total Amount</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>true</isRequired>
            <scale>2</scale>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <fields>
            <name>Invoice</name>
            <choiceReferences>InvoicePercentage</choiceReferences>
            <dataType>String</dataType>
            <defaultValue>
                <stringValue>50%</stringValue>
            </defaultValue>
            <fieldText>Invoice %</fieldText>
            <fieldType>DropdownBox</fieldType>
            <isRequired>true</isRequired>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <fields>
            <name>Invoice_No</name>
            <dataType>String</dataType>
            <fieldText>Invoice No</fieldText>
            <fieldType>InputField</fieldType>
            <isRequired>false</isRequired>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>PeriodErrorScreen2</name>
        <label>PeriodErrorScreen2</label>
        <locationX>578</locationX>
        <locationY>1238</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>ShortPeriodErroe</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); font-size: 14px; font-family: -apple-system, BlinkMacSystemFont, &amp;quot;Segoe UI&amp;quot;, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Web&amp;quot;, sans-serif; color: rgb(36, 36, 36);&quot;&gt;Invoice can not be generated as 30 days have not been completed since the last Invoice.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Remining_Amount_Screen</name>
        <label>Remining Amount Screen</label>
        <locationX>842</locationX>
        <locationY>1598</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>ReminingAmountError</name>
            <fieldText>&lt;p&gt;Amount is not equal to remaining amount. Remaining amount is &lt;strong style=&quot;color: rgb(50, 48, 48);&quot;&gt;{!ReminingBrokerageAmount}&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Remining_Amount_Screen_0</name>
        <label>Registration Not Complete SR</label>
        <locationX>1106</locationX>
        <locationY>1598</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>ReminingAmountError_0</name>
            <fieldText>&lt;p&gt;Booking Registration not completed.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Remining_Amount_Screen_0_0</name>
        <label>Project status Scr</label>
        <locationX>1370</locationX>
        <locationY>1598</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>ReminingAmountError_0_0</name>
            <fieldText>&lt;p&gt;Project Status is Launch&lt;span style=&quot;font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Remining_Amount_Screen_0_0_0</name>
        <label>Remining Amount Screen</label>
        <locationX>2074</locationX>
        <locationY>1598</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>ReminingAmountError_0_0_0</name>
            <fieldText>&lt;p&gt;Amount Is not equal to 50%&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Remining_Amount_Screen_0_0_0_0</name>
        <label>Remining Amount Screen</label>
        <locationX>1810</locationX>
        <locationY>1598</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Adjust_Payment</targetReference>
        </connector>
        <fields>
            <name>ReminingAmountError_0_0_0_0</name>
            <fieldText>&lt;p&gt;50% invoice is already generated on {!Get_All_Broker_Payment_record.CreatedDate}&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Select_Booking_Screen</name>
        <label>Select Booking Screen</label>
        <locationX>715</locationX>
        <locationY>638</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Get_Booking</targetReference>
        </connector>
        <fields>
            <name>Select_Booking</name>
            <choiceReferences>BookingChoiceSet</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Select Booking</fieldText>
            <fieldType>RadioButtons</fieldType>
            <isRequired>true</isRequired>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Select_Project_Screen</name>
        <label>Select Project Screen</label>
        <locationX>382</locationX>
        <locationY>278</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <targetReference>Get_Booking_Related_Project</targetReference>
        </connector>
        <fields>
            <name>Select_ProjectR</name>
            <choiceReferences>SelectProject</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Select Project</fieldText>
            <fieldType>RadioButtons</fieldType>
            <isRequired>true</isRequired>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>Upload_Invoice</name>
        <label>Upload Invoice</label>
        <locationX>1656</locationX>
        <locationY>2270</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Sending_mail_to_Account_Team</targetReference>
        </connector>
        <fields>
            <name>UploadInvoiceFile</name>
            <extensionName>forceContent:fileUpload</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>label</name>
                <value>
                    <stringValue>Invoice</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>recordId</name>
                <value>
                    <elementReference>BrokerPaymentId</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>X10PercentageError</name>
        <label>10PercentageError</label>
        <locationX>314</locationX>
        <locationY>998</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>PercentageErrorDis</name>
            <fieldText>&lt;p&gt;10% of Agreement amount of this booking has not received.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>ZeroBookingError</name>
        <label>ZeroBookingError</label>
        <locationX>50</locationX>
        <locationY>638</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>ZeroBookingErrorDis</name>
            <fieldText>&lt;p&gt;There is no booking related to {!Select_ProjectR} Project for the {!Get_Account.Name} CP.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <styleProperties>
                <verticalAlignment>
                    <stringValue>top</stringValue>
                </verticalAlignment>
                <width>
                    <stringValue>12</stringValue>
                </width>
            </styleProperties>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <start>
        <locationX>256</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Get_Account</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <variables>
        <name>AmountAfterDeduction</name>
        <dataType>Currency</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>BookingList</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Booking__c</objectType>
    </variables>
    <variables>
        <name>BrokerPaymentId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>ProjectId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
</Flow>
