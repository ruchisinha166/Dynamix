<apex:page standardController="Opportunity"  extensions="EOICAFormController" docType="html-5.0" showHeader="false" applyBodyTag="false" applyHtmlTag="false"  standardStylesheets="false">
    <html>
        <head>   
            <style type="text/css">
                .fontFamily{
                font-family:Calibri;
                font-size:14px;
                }
                .required:after {
                content:" *";
                color: red;
                }
                
                .square-radio input[type = "radio"] {
                -webkit-appearance: none;
                -moz-appearance: none;
                appearance: none;
                border-radius: 0;
                width: 12px; /* Adjust the width and height as needed */
                height: 12px;
                margin-left: 0px;
                border: 1px solid #ccc; /* Add border style if needed */
                /* margin-right: 5px; Adjust spacing between buttons */
                }
                
                .square-radio input[type="radio"]:checked {
                background-color: black;
                /* Change to your desired background color */
                }
                
                .table + .table li {
                background: olive;
                }
                */
                .radioOpt
                {
                border: none;
                }
                .border
                {
                border: 1px solid black;
                }
                .border tr
                {
                border: 1px solid black;
                }
                .border th
                {
                border: 1px solid black;
                }
                .border td
                {
                border: 1px solid black;
                }
            </style>    
            
            <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDCnrYf9W28u7JCmhKHAL5DyOhBHJGXUvU&libraries=places"></script>
            <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
            <script src="https://code.jquery.com/jquery-3.5.0.js"></script> 
            
            
            <script type="text/javascript">
                            var street = '';
            var postalCode = '';
            var country = '';
            var city = '';
            var state = '';
            var locality = '';
            var address = '';
           
                  function initAutocomplete() {
                var input = document.getElementById('autocomplete');
                      console.log("input ", input);
                var autocomplete = new google.maps.places.Autocomplete(input);
                autocomplete.addListener('place_changed', function() {
                    var place = autocomplete.getPlace();
                    if (!place.geometry) {
                        console.error("Place details not found for the input: ", input.value);
                        return;
                    }
                    address = place.formatted_address;
                    console.log("Selected address: ", address);
                    var formattedAddress = '';

                   
                    place.address_components.forEach(function(component) {
                        if (component.types.includes('street_number')) {
                            street = component.long_name;
                             console.log('street',street);
                        } else if (component.types.includes('route')) {
                            street = (street ? street + ' ' : '') + component.long_name;
                             console.log('street',street);
                        }
                         else if (component.types.includes('postal_code')) {
                            postalCode = component.long_name;
                            console.log('postalCode',postalCode);
                            //document.getElementById('{!$Component.postalCodeInput}').value = postalCode;
                        } else if (component.types.includes('country')) {
                           
                            country = component.long_name;
                            console.log('country'+country);
                            //document.getElementById('{!$Component.country}').value = country;
                        }
                         else if (component.types.includes('locality')) {
                            city = component.long_name;
                             console.log('city'+city);
                        } else if (component.types.includes('administrative_area_level_1')) {
                            state = component.long_name;
                            console.log('state'+state);
                        } 
                        else if (component.types.includes('sublocality')) {
                            locality = component.long_name;
                            console.log('locality1'+locality);
                        }
                        else if (component.types.includes('neighborhood')) {
                            locality = component.long_name;
                            console.log('locality2'+locality);
                        }
                    });
                    var addressDetails = "Street: " + street + "<br/>Postal Code: " + postalCode + "<br/>Country: " + country;
                    // document.getElementById('Country').innerText = country;
                    //  document.getElementById('postalCode').innerText = postalCode;
                    // document.getElementById('selectedAddress').innerText = address;
                    //  document.getElementById('postalCodeInput').innerText = postalCode;
                    jQuery(document).ready(function(){
                        console.log('postalCode--'+postalCode);
                        jQuery('#postalCodeInput').val(postalCode);
                        jQuery('#country').val(country);
                        jQuery('#state').val(state);
                        jQuery('#city').val(city);
                        jQuery('#locality').val(locality);
                        /*  passState(state);
                        passCountry(country);
                        passCity(city);*/
                        Submitlocation(state,country,postalCode,city,street,locality,input);

                        
                    });
                });
            }
            </script>
        </head> 
        <body onload="initAutocomplete()" class="fontFamily"> 
            <div  style="display: {!IF(ShowForm == false, 'block', 'none')};">
                <div style="margin-top:20px;text-align:center;color:red;font-size:16px;" >
                    <h2>
                        Your link is expired please contact with your Sales Manager for the activation of link.
                    </h2>
                </div> 
            </div>
            <div  style="display: {!IF(ShowForm == true, 'block', 'none')};">
                <apex:form id="frm">
                    
                    <div width = "100%" class="header"  style="margin-top: 10px;margin-left: 10px;margin-bottom: 20px;">
                        <!-- <apex:outputText rendered="{!showHeader}" >-->
                        <center>
                            <apex:image url="{!ProjectHeader}"  rendered="{!showHeader}"  width="70%" height="140" />
                        </center>
                    </div>
                    <apex:pageBlock >
                        <div style="background-color:#5F6A6A;padding-top:5px;font-size:18px;padding-bottom:5px;color:white;text-align:center">
                        <b>EOI/CA Form </b> 
                    </div>
                         <div style="padding-top:12px;padding-bottom:12px;text-align:left;width:100%;">
                        <div style="display:inline-block;width:50.5%;">
                            
                            <div style="display:inline-block;font-weight: 700;width:24%;">
                                EOI/CA Form For:
                            </div>
                            <div style="display:inline-block;">
                                <apex:outputText value="{!Opportunity.EOI_CA__c}"></apex:outputText>
                            </div>
                        </div>
                        <div style="width:30%;display:inline-block;">                              
                            <div style="width:32%;display:inline-block;font-weight: 700;">
                                {!Opportunity.EOI_CA__c} Number:
                            </div>
                            <div style="display:inline-block;width:40%;font-weight: 700;">
                                {!Opportunity.EOI_CA_Number__c}  
                            </div>
                            
                            
                        </div>
                    </div>
                        <!--  Section 1 -->
                        <apex:pageBlock >
                            <div style="background-color:#D5D8DC;padding-top:5px;padding-bottom:5px;color:black;">
                                <b>Details</b> 
                            </div>
                            <div>
                                <table  style ="width:100%;" >
                                    <tr>
                                        <th style="width:10%; text-align:left;"  class="required"  >
                                            First Name:
                                        </th>
                                        <td style="display:inline-block;">
                                            <div style="width:20%;display:inline-block; float:left "> 
                                                <apex:input type="text" value="{!primaryAccountFirstName}" disabled="{!makeItdefaultReadOnly}" title="First Name" html-placeholder="First Name" />
                                            </div>
                                        </td>
                                        <th style="width:10%; text-align:left;"  class=""  >
                                            Middle Name:
                                        </th>
                                        <td style="display:inline-block;">
                                            <div style="width:20%;display:inline-block; float:left "> 
                                                <apex:input type="text" value="{!primaryAccountMiddleName}" disabled="{!makeItdefaultReadOnly}" title="Middle Name" html-placeholder="Middle Name" />
                                            </div>
                                        </td>
                                        <th style="width:10%; text-align:left;"  class="required" >
                                            Last Name:
                                        </th>
                                        <td style="display:inline-block; float:left;">
                                            <div style="width:20%;display:inline-block; float:left"> 
                                                <apex:input type="text" value="{!primaryAccountLastName}" disabled="{!makeItdefaultReadOnly}"  title="Last Name" html-placeholder="Last Name"/>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th style="width:11.8%; text-align:left;"  class="required">
                                            Residental Address:
                                        </th>
                                        <td colspan="3" >
                                            <input id="autocomplete"  style="display:inline-block;width:98%;" value="{!residenceAddress}" placeholder="Enter your address" type="text"/>
                                            <!--div id="selectedAddress"></div--> 
                                        </td>
                                    </tr>
                                     
                                    <tr>
                                        <td colspan="4" style ="padding:0px;">
                                            <div Id ="locationnn">
                                                <table cellpadding = "0" cellspacing = "0" style ="width:100%;padding:0px;" >
                                                    
                                                    <tr>
                                                        <th style="width:12%; text-align:left;">Apartment/Flat:
                                                        </th>
                                                        <td style="width:28%">
                                                            <div style="display:inline-block;width:10%;"> 
                                                                <apex:input type="text" value="{!apartmentFlat}" html-placeholder="Apartment/Flat"/>
                                                            </div>
                                                        </td>
                                                        <th style="width:10%; text-align:left;" >Locality:
                                                        </th>
                                                        <td style="width:27%">
                                                            <div style="display:inline-block;width:10%;"> 
                                                                <!--apex:selectList size="1"  value="{!locality}"> 
<apex:selectOptions value="{!selectedLocalityAddOption}"/>  
</apex:selectList-->
                                                                <input id="locality" class="locality" type="text" value="{!locality}" html-placeholder= "Locality" />
                                                                
                                                            </div>
                                                            
                                                        </td>
                                                        <th style="width:10%; text-align:left;" class="required">Residence City:
                                                        </th>
                                                        <td>
                                                            <div style="display:inline-block; width:10%;"> 
                                                                <input id="city" class="city" type="text" value="{!primaryAccMailingAddCity}" html-placeholder= "City" />
                                                                
                                                            </div></td>
                                                    </tr>
                                                    <tr>
                                         <td colspan="6" style="height:4px;">
                                         </td>
                                    </tr>
                                                    <tr>
                                                        <th style="width:10%; text-align:left;inline-height:4px;" class="required">PIN Code:
                                                        </th>
                                                        <td>
                                                            <div style="display:inline-block; float:left; "> 
                                                                <div style="display:inline-block;">
                                                                    <input id="postalCodeInput" class="postalCodeInput" type="text" value="{!primaryAccMailingAddPostalCode}" html-oninput="checkPrimaryAccountPostCodeStr();"  html-placeholder="PostalCode"/>
                                                                    
                                                                    <apex:actionSupport event="onchange" reRender="priAccPostCodeErr" status="status"/>
                                                                    
                                                                </div>
                                                                <div style="display:inline-block;color:red;" id="priAccPostCodeErr"></div>
                                                            </div>
                                                            
                                                            
                                                        </td>
                                                        <th style="width:10%; text-align:left;">State:
                                                        </th>
                                                        <td>
                                                            <div style="display:inline-block;width:10%;" id ="stateDiv"> 
                                                                <input id="state" class="state" type="text" value="{!primaryAccMailingAddState}"  html-placeholder="State"/>
                                                            </div>
                                                            
                                                        </td>
                                                        <th style="width:10%; text-align:left;" >Country:
                                                        </th>
                                                        <td>
                                                            <div style="display:inline-block;width:10%;" id="countryDiv"> 
                                                                <input id="country" class="country" type="text" value="{!primaryAccMailingAddCountry}" html-placeholder="Country"/>
                                                                
                                                            </div>
                                                            
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                    </td>
                                </tr>
                                   
                                    
                                   
                                    
                                        
                            </table>
                          
                            <table style ="width:100%" >
                                 <tr>
                                    <th class="required" style="width:8.6%; text-align:left;">
                                        Age (In Years):
                                    </th>
                                    <td colspan ="3" style ="padding:0px; margin:0px;">
                                        <div style="width:90%;display:inline-block; float:left;"> 
                                            <apex:selectRadio id="age" value="{!selectedPrimaryAccAgeAdd}" onChange="show(this.value)" style="padding:0px; margin:0px;" styleClass="square-radio" >
                                                <apex:selectoptions value="{!selectedPrimaryAccAgeAddOption}"></apex:selectoptions>
                                                <apex:actionSupport event="onchange" action="{!onChangePrimaryAccNationality}" />
                                            </apex:selectRadio>
                                        </div>
                                    </td></tr>
                                  <tr>
                                   <th style="width:8.6%; text-align:left;"  class="required" >
                                        Mobile Number
                                    </th>
                                    <td style="width:31%;">
                                        <div style="display:inline-block; float:left; margin-left:1.4%;"> 
                                            <div style="display:inline-block;padding-left:4px;"> 
                                                <apex:selectList size="1" disabled="{!makeItdefaultReadOnly}" value="{!selectedPrimaryAccCountryCodeAdd}"> 
                                                    <apex:selectOptions value="{!selectedPrimaryAccCountryCodeAddOption}"/>  
                                                </apex:selectList>
                                            </div>
                                            <div style="display:inline-block;"> 
                                                <apex:input type="text" disabled="{!makeItdefaultReadOnly}" value="{!primaryAccountMobileNo}" html-oninput="checkPrimaryAccountMobileNoStr();" id="primaryAccountMobileNo"  />
                                                <apex:actionSupport event="onchange" reRender="err1" status="status"/>
                                            </div>
                                            <div style="display:inline-block;color:red;" id="err1"></div>
                                        </div>
                                    </td>
                                    <th style="width:8%; text-align:left;">
                                        Email:
                                    </th>
                                    <th style="width:30%;">
                                        <div style="display:inline-block; float:left"> 
                                            <apex:input type="email" value="{!primaryAccountEmail}" html-oninput="checkPrimaryAccountEmailStr();" id="primaryAccountEmail"/>
                                            <apex:actionSupport event="onchange" reRender="err3" status="status"/>
                                        </div>
                                        <div style="display:inline-block;color:red;" id="err3"></div>
                                    </th>
                                </tr>
                                </table>
                           
                            <table style ="width:100%" >
                         
                                <tr>
                                    <th style="width:11%; text-align:left;" >
                                        Residential status:
                                    </th>
                                    <td>
                                        <apex:selectRadio id="Frequency" value="{!selectedPrimaryAccNationality}" onChange="show(this.value)" styleClass="square-radio">
                                            <apex:selectOption itemValue="Indian" itemLabel="Indian"></apex:selectOption> 
                                            <apex:selectOption itemValue="Non-Resident Indian" itemLabel="Non-Resident Indian" ></apex:selectOption>
                                            <apex:selectOption itemValue="Foreign National of Indian Origin" itemLabel="Foreign National of Indian Origin" ></apex:selectOption>
                                            <apex:actionSupport event="onchange" action="{!onChangePrimaryAccNationality}" />
                                        </apex:selectRadio>
                                    </td></tr>
                                <tr>
                                    <th style="width:11%; text-align:left;">
                                        Occupation:
                                    </th>
                                    <td>
                                        <div style="width:90%;display:inline-block; float:left"> 
                                            <apex:selectRadio id="emplotmentType" value="{!selectedEmploymentType}" onChange="show(this.value)"  styleClass="square-radio" >
                                                <apex:selectoptions value="{!selectedEmploymentTypeAddOption}"></apex:selectoptions>
                                                <apex:actionSupport event="onchange" action="{!onChangeMaritalStatus}" />
                                            </apex:selectRadio>
                                        </div>
                                        
                                    </td></tr> 
                                
                                
                            </table>
                            
                            <table style ="width:100%" >
                                <tr>
                                    <th style="width:9.8%; text-align:left;">
                                        Organisation:
                                    </th>
                                    <th style="width:32.5%">
                                        <div style="width:20%;display:inline-block; float:left"> 
                                            <apex:input type="text" value="{!companyName}" html-placeholder="Company Name" />
                                        </div>
                                    </th>
                                    <th style="width:4%; text-align:left;">
                                        Designation:
                                    </th>
                                    <th style="width:30%;">
                                        <div style="width:20%;display:inline-block; float:left;"> 
                                            <apex:input type="text" value="{!designation}" html-placeholder="Designation"/>
                                        </div>
                                    </th>
                                </tr>
                                <tr>
                                    <th style="width:9.8%; text-align:left;">
                                        Office Location:
                                    </th>
                                    <th style="width:10%;">
                                        <div style="width:20%;display:inline-block; float:left"> 
                                            <apex:input type="text" value="{!officeLocation}" html-placeholder="Office Location"/> 
                                        </div>(East/West)
                                    </th>
                                    <th style="width:10%; text-align:left;">
                                        
                                    </th>
                                    
                                </tr>
                                </table>
                                  <table style ="width:100%" >
                                <tr>
                                    <th style="width:11%; text-align:left;" class="required">
                                        Configurations:
                                    </th>
                                    <td style="width:90%">
                                        <div style="width:90%; display:inline-block; float:left;"> 
                                            <apex:selectRadio id="configuration" value="{!selectedProjectConfigurationAdd}" onChange="show(this.value)"  styleClass="square-radio">
                                                <apex:selectoptions value="{!projectConfigurationPicklistOptions}"></apex:selectoptions>
                                                <apex:actionSupport event="onchange" action="{!onChangeMaritalStatus}" />
                                            </apex:selectRadio>
                                        </div>
                                    </td>
                                </tr>
                                
                                    <tr>
                                    <th style="width:10%; text-align:left;" class="required">
                                        Desired Budget:
                                    </th>
                                    <td style="width:90%;">
                                        <div style="width:90%;display:inline-block; float:left"> 
                                            <apex:selectRadio id="budget" value="{!selectedBudgetPicklistValue}" onChange="show(this.value)" styleClass="square-radio" >
                                                <apex:selectoptions value="{!budgetPicklistOptions}"></apex:selectoptions>
                                                <apex:actionSupport event="onchange" action="{!onChangeMaritalStatus}" />
                                            </apex:selectRadio>
                                        </div>
                                    </td>
                                </tr>
                               <tr>
                                    <th style="width:10%; text-align:left;" class="required">
                                        Carpet Area:
                                    </th>
                                    <td style="width:90%">
                                        <div style="width:90%;display:inline-block; float:left"> 
                                            <apex:selectRadio id="projectCarpetArea" value="{!projectCarpetArea}" onChange="show(this.value)" styleClass="square-radio" >
                                                <apex:selectoptions value="{!selectedCarpetAreaAddOption}"></apex:selectoptions>
                                                <apex:actionSupport event="onchange" action="{!onChangeMaritalStatus}" />
                                            </apex:selectRadio>
                                        </div>
                                    </td>
                                </tr>
                                      <tr>
                                    <th style="width:10%; text-align:left;" >
                                        Purpose of Purchase:
                                    </th>
                                    <td style="width:90%">
                                        <div style="width:90%;display:inline-block; float:left"> 
                                            <apex:selectRadio id="natureOfSource" value="{!selectedNatureInUseAdd}" onChange="show(this.value)"  styleClass="square-radio" >
                                                <apex:selectoptions value="{!selectedNatureOfSourceAddOption}"></apex:selectoptions>
                                                <apex:actionSupport event="onchange" action="{!onChangeMaritalStatus}" />
                                            </apex:selectRadio>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                            
                            
                            
                            
                            <div style="background-color:#D5D8DC;padding-top:5px;padding-bottom:5px;color:black;text-align:left" class="required">
                                <b>SOURCE :</b> 
                            </div>
                            <apex:actionFunction name="updateHidden" action="{!updateSelectedValue}" rerender="walkInSourceSection">
                                <apex:param name="selectedValue" assignTo="{!selectedValue}" value="" />
                            </apex:actionFunction>
                            <!--apex:inputHidden value="{!selectedValue}" id="selectedValue"  /-->
                            <apex:pageBlock >
                                
                                <table>
                                    <apex:repeat value="{!items}" var="row">
                                        <tr>
                                            <apex:repeat value="{!row}" var="item">
                                                <td>
                                                        
                                                        <input name="isRadio" type="radio" id="radio{!item.name}"
                                                               onchange="updateHidden(this.value)"
                                                               value="{!item.name}"  disabled="{!makeItdefaultReadOnly}"/>
                                                        <label for="radio{!item.name}">{!item.name}</label>
                                                   
                                                </td>
                                            </apex:repeat>
                                        </tr>
                                    </apex:repeat>
                                </table>
                            </apex:pageBlock>
                            
                        </div>
                            <div style="margin-top:10px;margin-bottom:10px;">
                       
                        <div style="text-align:left;padding-top:2px;padding-bottom:2px;display: {!IF((Opportunity.Walk_in_Source__c == 'Channel Partner'), 'block', 'none')};">                              
                            <div style="width:9%;display:inline-block;" class="required">
                                Channel Partner:
                            </div>
                            <div style="display:inline-block;width:41%">                                 
                             {!Opportunity.Channel_Partner__r.Name}
                            </div>
                             <div style="width:9%;display:inline-block;" class="required">
                               Sourcing Manager:
                            </div>
                            <div style="display:inline-block;width:35%">                                 
                             {!Opportunity.Sourcing_Manager__r.Name}
                            </div>
                            
                        </div>
                    </div>
                    </apex:pageBlock>
                    <div style="background-color:#D5D8DC;padding-top:5px;padding-bottom:5px;color:black;text-align:left">
                        <b>PAYMENT DETAILS</b>
                        
                    </div>
                    <div style="margin-top:10px;margin-bottom:10px;width:100%;">
                        <div style="text-align:left;padding-top:2px;padding-bottom:2px;width:100%;">                              
                            <div style="width:9%;display:inline-block;" class="required">
                                Received Amount:
                            </div>
                            <div style="display:inline-block;width:80%;">                                 
                                <apex:outputText rendered="{!IF(Opportunity.EOI_CA_Payment_Received__c != null, true, false)}" value="INR. {0, number, ###,##0.00}">
                                    <apex:param value="{!Opportunity.EOI_CA_Payment_Received__c}" />
                                </apex:outputText>  
                                <apex:outputText rendered="{!IF(Opportunity.EOI_CA_Payment_Received__c == null, true, false)}">
                                    N/A
                                </apex:outputText>
                            </div>
                            
                        </div>
                        <div style="text-align:left;padding-top:2px;padding-bottom:2px;">                              
                            <div style="width:9%;display:inline-block;" class="required">
                                Project:
                            </div>
                            <div style="display:inline-block;width:41%">                                 
                                {!Opportunity.Project__r.Name}
                            </div>
                            <div style="display: {!IF((Opportunity.EOI_CA__c == 'EOI'), 'inline-block', 'none')};width:9%;" class="required">
                               Floor Preference:
                            </div>
                            <div style="display: {!IF((Opportunity.EOI_CA__c == 'EOI'), 'inline-block', 'none')};width:35%;">                                 
                                <apex:selectList size="1" value="{!selectedFloor}"> 
                                    <apex:selectOptions value="{!selectedFloorAddOption}"/>  
                                </apex:selectList>
                            </div>
                            <div style="display: {!IF((Opportunity.EOI_CA__c == 'CA'), 'inline-block', 'none')};width:9%;" class="required">
                                Unit Number:
                            </div>
                            <div style="display: {!IF((Opportunity.EOI_CA__c == 'CA'), 'inline-block', 'none')};width:35%;">                                 
                                {!propertyRecord.Name}
                            </div>
                            
                        </div>
                        </div>
                    <div style="background-color:#D5D8DC;padding-top:5px;padding-bottom:5px;color:black;text-align:center">
                        <b>Terms &amp; Conditions </b> 
                    </div>
                         <div style="margin-top:10px;margin-bottom:10px;">
                            <div style="text-align:left;padding-top:2px;padding-bottom:2px;">
                                <div style="width:100%;display:inline-block;font-weight: 700;">
                                    <apex:outputLink value="{!termsAndCondition}" style="overflow-wrap: break-word;">Terms and Conditions</apex:outputLink>
                                    
                                </div>
                            </div>
                        </div>
                    <apex:outputPanel id="bottomSection">
                        <!--OTP Code-->
                        <div align="center"  draggable="false" style="padding-top:10px;padding-bottom:10px;">
                            <apex:outputPanel rendered="{!isverifyed}">
                                <apex:actionRegion >
                                    <apex:commandButton rerender="none" onclick="sendOtp()" value="{!otpBtnValue}" id="getOtpBtn" oncomplete="CallWebService_JS();"  action="{!sendOtpM}" style="margin-right:20px;padding-top:8px;border: none;border-radius: 4px;padding-bottom:8px;" >    
                                    </apex:commandButton> 
                                    <apex:actionFunction action="{!callOut}" name="CallWebService_JS" status="Status2" reRender="none"/>
                                     <apex:commandButton onclick="verifyFun()" value="Verify" reRender="bottomSection,msgSection" id="verifyBtn" action="{!verifyOtp}" style="margin-right:20px;padding-top:8px;border: none;border-radius: 4px;padding-bottom:8px;" >    
                            </apex:commandButton>
                                    <apex:input value="{!otpCode}" style="margin-right:100px;" id="OtpInp" type="text" />  
                                </apex:actionRegion>
                                <div style="font-weight:700;" id="otpTimer">Time left &nbsp; <span id="timer"></span></div>
                                <apex:outputPanel id="msgSection">
                                      <div style="margin-top:20px;text-align:center;color:red;font-size:16px;" >
                                            <apex:outputText value="{!errorMsg}"></apex:outputText>
                                        </div>
                                        <div style="margin-top:20px;text-align:center;color:green;font-size:16px;" >
                                            <apex:outputText value="{!sucessMsg}"></apex:outputText>
                                        </div>
                                    <div style="border:1px solid black;background:#F5F5D6;">
                                      
                                        <div style="padding-left:5px;">
                                            <apex:pageMessages escape="false" />
                                        </div>  
                                        
                                    </div>
                                </apex:outputPanel>
                            </apex:outputPanel>
                        </div>  
                    </apex:outputPanel>
                        <apex:actionFunction name="Submitlocation" action="{!Submitlocation}" reRender="locationnn">
                            <apex:param name="stateFromPage" assignTo="{!stateFromPage}" value=""/>
                            <apex:param name="countryFromPage" assignTo="{!countryFromPage}" value=""/>
                            <apex:param name="pinCodeFromPage" assignTo="{!pinCodeFromPage}" value=""/>
                            <apex:param name="cityFromPage" assignTo="{!cityFromPage}" value=""/>
                            <apex:param name="streetFromPage" assignTo="{!streetFromPage}" value=""/>
                            <apex:param name="localityFromPage" assignTo="{!localityFromPage}" value=""/>
                            <apex:param name="residenceAddress" assignTo="{!residenceAddress}" value=""/>
                        </apex:actionFunction>
                    
                    
                    <div align="center" style="padding-top:10px;padding-bottom:10px;" draggable="false" >
                        
                        <apex:commandButton id="submitBtn1"  value="Save Form"  action="{!submitEOICAForm}" onclick="return bookingForm_Validation();" style="padding-top:8px;border: none;border-radius: 4px;padding-bottom:8px;">
                            
                        </apex:commandButton>
                    </div>
                    
                    
                </apex:pageBlock>
            </apex:form>
            </div>
        </body> 
            
        <script type="text/javascript">
        
        // Use JavaScript to set the default selection
        window.onload = function () {
            var submitBtn1 = document.querySelector("[id$='submitBtn1']").disable = true;
            
            var selectedValue = "{!selectedValue}";
            console.log('selectedValue'+selectedValue);
            var selectedValueRadio = document.getElementById("radio"+ selectedValue);
            if (selectedValueRadio) {
                selectedValueRadio.checked = true;
                updateHidden(selectedValueRadio.value);
            }
            
            initAutocomplete();
        };
        /*function updateHidden(event) {
           document.querySelector("[id$=selectedValue]").value = event.target.value;
           document.getElementById('{!$Component.selectedValue}').value = event.target.value;

         if(event.target.value ='Channel Partner')
             {
                 document.querySelector("[id$='walkInSourceSection']").style.display = 'block';
                 }
         else
             {
                  document.querySelector("[id$='walkInSourceSection']").disabled = true;;
                 }
                 
                     

        console.log(event.target.value);
    }*/
        function checkreferralMobileNumberStr(){
            var phone=document.querySelector("[id$='referralByMobileNumber']").value;
            var letters = /^[A-Za-z]+$/;
            if(phone.length!=10 || isNaN(phone)){
                document.getElementById("err2").innerHTML="Number must be 10 digits long & cannot contain Letters.";
                event.preventDefault();
                return true;
            }else{
                document.getElementById("err2").innerHTML=""; 
            }
        }
        
        function checkPrimaryAccountOrgPhoneStr(){
            var priAccOrgPhone=document.querySelector("[id$='primaryAccountChannelPartnerMobileNumber']").value;
            //var letters = /^[A-Za-z]+$/;
            if(isNaN(priAccOrgPhone)){
                document.getElementById("primaryAccountChannelPartnerMobileNumberError").innerHTML="Channel Partner phone number can contains only number.";
                event.preventDefault();
                return true;
            }else{
                document.getElementById("primaryAccountChannelPartnerMobileNumberError").innerHTML=""; 
            }
        }
        
        
        function sendOtp(){
            document.querySelector("[id$='getOtpBtn']").value = 'Resend OTP';
            document.querySelector("[id$='getOtpBtn']").disabled = true;
            document.querySelector("[id$='verifyBtn']").disabled = false;
            document.querySelector("[id$='verifyBtn']").enable = true;
            //   button.disabled=true;
            //  setTimeout(function(){document.getElementById("[id$='getOtpBtn']").disabled = false;},5000);
            
            document.querySelector("[id$='otpTimer']").style.display = 'block';
            var timerOn = true;
            timer(300,true);
            return true;    
        }
        function timer(remaining,timerOn) {
            var m = Math.floor(remaining / 60);
            var s = remaining % 60;
            
            m = m < 10 ? '0' + m : m;
            s = s < 10 ? '0' + s : s;
            document.getElementById('timer').innerHTML = m + ':' + s;
            remaining -= 1;
            
            if(remaining >= 0 && timerOn) {
                setTimeout(function() {
                    if(remaining==0){
                        timer(remaining,false);
                    }
                    else{
                        timer(remaining,true);
                    }
                }, 1000);
                return;
            }
            
            if(!timerOn) {
                // Do validate stuff here
                document.querySelector("[id$='getOtpBtn']").enable = true;
                document.querySelector("[id$='getOtpBtn']").disabled = false;
                document.querySelector("[id$='verifyBtn']").disabled = true;
                return;
            }
            
        }
        function verifyFun(){
            
        }
        function onloadf(){
             document.getElementById("submitBtn1").disabled = true;
             var vbtn= document.querySelector("[id$='verifyBtn']").disable = true;
             document.querySelector("[id$='submitBtn']").disable = true;
            document.querySelector("[id$='otpTimer']").style.display = 'none';
            var chbValue= document.querySelector("[id$='termsandCondiCheckbox']").checked;
            const button = document.querySelector("[id$='getOtpBtn']");
            var inPutBox = document.querySelector("[id$='OtpInp']");
            if(chbValue==true){
                button.disabled=false;
                button.enable=true;
                inPutBox.disabled = false;
                inPutBox.enable = true;
                vbtn.disabled = false;
                vbtn.enable = true;
                document.getElementById("submitBtn1").disabled = true;
                
            }
            else{
                button.disabled=true;
                button.enable=false;
                inPutBox.disabled=true;
                inPutBox.enable=false;
                vbtn.disabled=true;
                vbtn.enable=false;
                document.getElementById("submitBtn1").disabled = true;
                
            }          
        }
        function checkPrimaryAccountPostCodeStr(){
            var priAccPostCode=document.querySelector("[id$='primaryAccMailingAddPostalCode']").value;
            if(isNaN(priAccPostCode)){
                document.getElementById("priAccPostCodeErr").innerHTML="Post Code can contains only number.";
                event.preventDefault();
                return true;
            }else{
                document.getElementById("priAccPostCodeErr").innerHTML=""; 
            }      
        }
        
        function checkPrimaryAccountEmailStr(){
            var email=document.querySelector("[id$='primaryAccountEmail']").value;
            var atpos=email.indexOf("@");
            var dotpos=email.lastIndexOf(".");
            if(atpos<1 || dotpos<atpos+2 || dotpos+2>=email.length){
                document.getElementById("err3").innerHTML="Invalid Email.";
                event.preventDefault();
                return true;
            }else{
                document.getElementById("err3").innerHTML=""; 
            }
        }
        
        
        </script>
    </html>
</apex:page>